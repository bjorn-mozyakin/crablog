document.addEventListener("DOMContentLoaded",function(){function e(e){this.article=e.article,this.articleContainer=this.article.querySelector(".article__container"),this.articleContents=this.articleContainer.querySelector(".contents"),this.articleTitles=this.articleContainer.querySelectorAll("h2, h3, h4, h5 ,h6"),this.articleContents&&this._createContents()}function t(){0<this.pageYOffset?n.classList.remove("arrow-up_hidden"):n.classList.add("arrow-up_hidden")}e.prototype._createContents=function(){var e=document.createElement("div");e.className="contents__container",e.innerHTML='<div class="contents__title">Содержание статьи</div>';for(var t=0;t<this.articleTitles.length;t++){var n=this.articleTitles[t].nodeName[1],i=n-1+"_"+(t+1);this.articleTitles[t].setAttribute("id",i);var r=document.createElement("div");r.className="contents__level_"+(n-1),r.innerHTML='<a href="#'+i+'">'+this.articleTitles[t].innerHTML+"</a>",e.appendChild(r)}this.articleContents.appendChild(e)};var n=document.querySelector(".arrow-up");t(),window.addEventListener("scroll",t),n.addEventListener("click",function(){var i,r;i={duration:500,draw:function(e){window.scrollBy(0,-window.pageYOffset*e)}},r=performance.now(),requestAnimationFrame(function e(t){var n=(t-r)/i.duration;1<n&&(n=1),i.draw(n),n<1&&requestAnimationFrame(e)})}),new e({article:document.querySelector(".article")})});