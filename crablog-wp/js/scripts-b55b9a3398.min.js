document.addEventListener("DOMContentLoaded",function(){function e(e){this.article=e.article,this.articleContainer=this.article.querySelector(".article__container"),this.articleContents=this.articleContainer.querySelector(".contents"),this.articleTitles=this.articleContainer.querySelectorAll("h2, h3, h4, h5 ,h6"),!this.article.classList.contains("article_brief")&&this.articleContents&&this._createContents()}function t(){0<this.pageYOffset?i.classList.remove("arrow-up_hidden"):i.classList.add("arrow-up_hidden")}e.prototype._createContents=function(){var e=document.createElement("div");e.className="contents__container",e.innerHTML='<div class="contents__title">Содержание статьи</div>';for(var t=0;t<this.articleTitles.length;t++){var i=this.articleTitles[t].nodeName[1],n=i-1+"_"+(t+1);this.articleTitles[t].setAttribute("id",n);var r=document.createElement("div");r.className="contents__level_"+(i-1),r.innerHTML='<a href="#'+n+'">'+this.articleTitles[t].innerHTML+"</a>",e.appendChild(r)}this.articleContents.appendChild(e)};var i=document.querySelector(".arrow-up");t(),window.addEventListener("scroll",t),i.addEventListener("click",function(){var n,r;n={duration:500,draw:function(e){window.scrollBy(0,-window.pageYOffset*e)}},r=performance.now(),requestAnimationFrame(function e(t){var i=(t-r)/n.duration;1<i&&(i=1),n.draw(i),i<1&&requestAnimationFrame(e)})}),new e({article:document.querySelector(".article")})});